(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(n){if(n.ep)return;n.ep=!0;const e=o(n);fetch(n.href,e)}})();const p=l=>{const t=document.querySelector("main"),o=window.innerHeight;window.requestAnimationFrame(()=>{t.style.transform=`translateY(-${o*l}px)`})},b=(l,t)=>{let o=0,i=0;const n=r=>{o=r.touches[0].clientY},e=r=>{if(scrollDisabled)return;const d=r.changedTouches[0].clientY,u=o-d;u>100&&i<l.length-1?i++:u<-100&&i>0&&i--,t(i)};window.addEventListener("touchstart",n,{passive:!0}),window.addEventListener("touchend",e,{passive:!0})};let f=!1;const m=(l,t="Unknown")=>{f=l,console.log(`Scroll Disabled set to: ${f} by ${t}`)},v=l=>{let t=0,o=!1;const i=document.querySelectorAll(".indicator"),n=document.querySelectorAll(".nav__link a"),e=s=>{if(o||f){console.log(`Scroll prevented. isScrolling: ${o}, scrollDisabled: ${f}`);return}const c=s.deltaY;o=!0,c>0&&t<l.length-1?t++:c<0&&t>0&&t--,p(t),d(i[t]),setTimeout(()=>{o=!1},600)},r=(s,c)=>{let a;return function(...y){a||(s.apply(this,y),a=!0,setTimeout(()=>a=!1,c))}};window.addEventListener("wheel",r(e,600)),b(l,s=>{t=s,d(i[t])});function d(s){i.forEach(c=>{c.classList.remove("active")}),s&&s.classList.add("active")}const u=new IntersectionObserver(s=>{s.forEach(c=>{if(c.isIntersecting){const a=Array.from(l).indexOf(c.target);t=a,c.target.classList.add("section-visible"),console.log(`Section ${c.target.id} is now visible, index set to: ${t}`),d(document.querySelector(`.indicator[data-target="#${l[a].id}"]`))}else c.target.classList.remove("section-visible")})},{threshold:.7});l.forEach(s=>u.observe(s)),i.forEach(s=>{s.addEventListener("click",c=>{c.preventDefault();const a=s.getAttribute("data-target"),y=document.querySelector(a);y&&(t=Array.from(l).indexOf(y),p(t),d(s),console.log(`Navigated to section: ${a}, index updated to: ${t}`))})}),n.forEach(s=>{s.addEventListener("click",c=>{c.preventDefault();const a=s.getAttribute("href"),y=document.querySelector(a);y&&(t=Array.from(l).indexOf(y),p(t),d(i[t]),console.log(`Nav link clicked. Navigated to section: ${a}, index updated to: ${t}`))})})};function h(){const l=document.getElementById("videoModal"),t=document.querySelector(".container");let o=document.getElementById("muxPlayer");const i=e=>{m(!0,"Modal Open"),console.log("Modal opened, scroll disabled."),o&&o.remove(),setTimeout(()=>{o=document.createElement("mux-player"),o.id="muxPlayer",o.setAttribute("stream-type","on-demand"),o.setAttribute("accent-color","#ff4e00"),o.setAttribute("disable-cookies",""),o.setAttribute("autoplay",""),o.setAttribute("controls",""),l.querySelector(".modal-content").appendChild(o),requestAnimationFrame(()=>{const r=e.dataset.playbackId;o.setAttribute("playback-id",r)}),o.addEventListener("loadeddata",()=>{o.play().catch(r=>{console.warn("Video playback failed:",r)})}),l.style.display="flex",t.classList.add("blur-background")},100)},n=()=>{m(!1,"Modal Close"),console.log("Modal closed, scroll enabled."),l.style.display="none",t.classList.remove("blur-background"),o&&(o.pause(),setTimeout(()=>{o.remove()},100))};return window.onclick=e=>{e.target===l&&n()},{openModal:i}}function A(){const l=document.querySelectorAll(".featured__project__video"),{openModal:t}=h();l.forEach(o=>{const i=o.querySelector(".featured__project__thumbnail"),n=o.querySelector(".lazy-gif"),e=n.getAttribute("data-gif");let r=!1;const d=()=>{!r&&(!n.getAttribute("src")||n.getAttribute("src")==="")?(n.setAttribute("src",e),n.onload=()=>{r=!0,u()}):r&&u()},u=()=>{n.style.opacity="1",n.style.zIndex="1",i.style.opacity="0"},s=()=>{n.style.opacity="0",n.style.zIndex="-1",i.style.opacity="1"};o.addEventListener("mouseenter",d),o.addEventListener("mouseleave",s),o.addEventListener("click",()=>t(o))})}function L(){const l=document.querySelector(".director-video-overlay"),t={"Lorenzo De Guia":"gGoBWuRAWgcPXXlYHG84J2O015fSMFQDks01GAe00j01a0100","Anthony Garth":"v8DYXI02Kn4EpzYB7h28H18bWabA702t61RVZwtNt3O5c","Kailee McGee":"RqFtPFucL94VI5T00g51r2j5z0201YbnTDWm4KWyHwnwp4","Ben Weinstein":"009NxNz3Z302hc02WE7NTi02LZAY9FjQHlxg14vpbyPnyX00","Ze'ev Waismann":"GMWX1Z3aR9J01XycOHiRN3e3hAdg8ZqSR401jQqIQ402SI"},o={};return Object.entries(t).forEach(([i,n])=>{const e=document.createElement("mux-player");e.setAttribute("stream-type","on-demand"),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("loop","true"),e.setAttribute("disable-cookies","true"),e.setAttribute("playsinline","true"),e.setAttribute("playback-id",n),e.style.width="100%",e.style.height="100%",e.style.objectFit="cover",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.opacity="0",e.style.zIndex="-1",e.style.display="none",l.appendChild(e),o[i]=e}),o}function E(l){const t=document.querySelectorAll(".home__director a"),o=document.querySelector(".director-video-overlay");t.forEach(i=>{const n=i.textContent.trim(),e=l[n];if(!e)return;const r=()=>{e.style.display="block",o.style.opacity="1",o.style.zIndex="1",e.style.opacity="1",e.style.zIndex="1"},d=()=>{e.style.opacity="0",e.style.zIndex="-1",o.style.opacity="0",o.style.zIndex="-1"};i.addEventListener("mouseenter",r),i.addEventListener("mouseleave",d)})}function x(){A();const l=L();E(l)}const S=()=>{const l=document.getElementById("menu-toggle"),t=document.createElement("div");t.classList.add("mobile-menu"),t.style.display="none",t.innerHTML=`
        <ul class="mobile-menu__links">
            <li class="mobile-menu__link"><a href="#about">Directors</a></li>
            <li class="mobile-menu__link"><a href="#contact">About</a></li>
            <li class="mobile-menu__link"><a href="#services">Contact</a></li>
        </ul>
    `,document.body.appendChild(t);const o=n=>{n.stopPropagation();const e=t.classList.toggle("open");m(e,"Mobile Menu Toggle"),console.log(`Mobile menu ${e?"opened":"closed"}, scroll disabled: ${e}`),e?t.style.display="flex":t.style.display="none"},i=()=>{window.innerWidth<=768?l.addEventListener("click",o):(l.removeEventListener("click",o),t.classList.remove("open"),t.style.display="none",m(!1,"Manage Menu Toggle"))};i(),window.addEventListener("click",n=>{t.classList.contains("open")&&!t.contains(n.target)&&n.target!==l&&(t.classList.remove("open"),t.style.display="none",m(!1,"Outside Mobile Menu Click"),console.log("Clicked outside mobile menu, menu closed, scroll enabled."))}),window.addEventListener("resize",i)},w=document.querySelectorAll("section");let I=l=>{document.readyState==="interactive"||document.readyState==="complete"?l():document.addEventListener("DOMContentLoaded",l)};I(()=>{document.body.style.visibility="visible"});v(w);S();x();
