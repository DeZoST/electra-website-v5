(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();function E(e){if(typeof e!="function"){console.error("Callback passed to domReady is not a function.");return}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function L(){const e=document.createElement("header");e.className="header",e.setAttribute("role","banner"),e.setAttribute("aria-label","Header"),e.innerHTML=`
        <a href="/electra-website-v5/" class="logo">
            <img src="/electra-website-v5/assets/images/Electra_Orange.webp" alt="Electra Logo" loading="lazy" />
        </a>
        <nav class="nav-menu" aria-label="Main Navigation Menu">
            <ul class="nav__links">
                <li class="nav__link"><a href="#home">Directors</a></li>
                <li class="nav__link"><a href="#about">About</a></li>
                <li class="nav__link"><a href="#reps">Contact</a></li>
            </ul>
            <button id="menu-toggle" aria-label="Open main menu" class="menu-toggle">
                <img src="/electra-website-v5/assets/images/Bolt_Star_Orange.webp" alt="Main Navigation Menu" loading="lazy" />
            </button>
        </nav>
    `;const t=document.body;if(!t){console.error("Body element not found.");return}t.insertAdjacentElement("afterbegin",e)}function v(){const e=`
        <footer class="footer" role="contentinfo" aria-label="Footer">
            <img class="footer__logo" src="/electra-website-v5/assets/images/Electra_White.webp" alt="Electra Logo" loading="lazy" />
            <ul class="footer_socials_wrapper">
                <li><a class="footer_social" target="_blank" href="https://www.instagram.com/electrafilmworks/" aria-label="Instagram">
                    <img src="/electra-website-v5/assets/images/instagram_logo_white.webp" alt="Instagram Logo" loading="lazy" />
                </a></li>
                <li><a class="footer_social" target="_blank" href="https://www.linkedin.com/in/electra-filmworks-984b242a4/" aria-label="LinkedIn">
                    <img src="/electra-website-v5/assets/images/linkedin_logo_white.webp" alt="LinkedIn Logo" loading="lazy" />
                </a></li>
            </ul>
            <div class="footer__pattern"></div>
        </footer>
    `,t=document.querySelector("main");if(!t){console.error("Main section not found.");return}const o=t.querySelector("section:last-of-type");o?o.insertAdjacentHTML("beforeend",e):console.error("No sections found in main.")}function x(e,t){if(!e){console.error("Invalid director ID provided.");return}fetch("/electra-website-v5/data/directorsData.json").then(o=>{if(!o.ok)throw new Error("Error loading director information. Status: "+o.status);return o.json()}).then(o=>{const r=o.directors[e];if(!r){console.error("Director not found:",e);return}const n=k(r),i=document.querySelector("main");i?i.appendChild(n):console.error("Main element not found."),t&&typeof t=="function"&&t()}).catch(o=>{console.error("Error loading director data:",o.message)})}function k(e){const t=document.createElement("section");return t.className="director__section",t.id="about",t.innerHTML=`
        <div class="director__content">
            <h4 class="director__role">DIRECTOR</h4>
            <h1 class="director__name">${e.name}</h1>
            <p class="director__description">${e.description}</p>
            <a href="/electra-website-v5/index.html#reps" class="director__contact">Contact Us</a>
        </div>
        <div class="director__photo">
            <img src="${e.photo}" alt="${e.name}" />
        </div>
    `,t}function _(e,t){if(!e||typeof e!="string"){console.error("Invalid page type provided.");return}if(document.querySelector(".scroll-indicators")){console.error("Indicators already exist.");return}const r=M(e);if(!r){console.error("Failed to create dots container.");return}document.body.appendChild(r),typeof t=="function"&&t()}function M(e){const t=document.createElement("div");t.className="scroll-indicators",t.setAttribute("role","navigation"),t.setAttribute("aria-label","Scroll indicators for sections");try{if(e==="home")t.innerHTML=`
                <div class="indicator" data-target="#home" aria-label="Scroll to Home Section" role="button" tabindex="0"></div>
            `,b(t),t.innerHTML+=`
                <div class="indicator" data-target="#about" aria-label="Scroll to About Section" role="button" tabindex="0"></div>
                <div class="indicator" data-target="#staff" aria-label="Scroll to Staff Section" role="button" tabindex="0"></div>
                <div class="indicator" data-target="#reps" aria-label="Scroll to Reps Section" role="button" tabindex="0"></div>
            `;else if(e==="director")b(t),t.innerHTML+=`
                <div class="indicator" data-target="#about" aria-label="Scroll to About Section" role="button" tabindex="0"></div>
                <div class="indicator" data-target="#others" aria-label="Scroll to Others Section" role="button" tabindex="0"></div>
            `;else return console.error("Invalid page type."),null}catch(o){return console.error("Error creating dots container:",o.message),null}return t}function b(e){document.querySelectorAll("[id^='featured-work-0']").forEach((o,r)=>{e.innerHTML+=`
            <div class="indicator" data-target="#${o.id}" aria-label="Scroll to Featured Work Section ${r+1}" role="button" tabindex="0"></div>
        `})}function S(e){const t=document.createElement("section");t.id=e==="first"?"home":"others",t.className=e==="last"?"home section":"home section container",t.innerHTML=`
        <nav class="home__container">
            <h1 class="home__title">Directors</h1>
            <ul class="home__directors">
                <li class="home__director"><a href="pages/lorenzo/index.html">Lorenzo De Guia</a></li>
                <li class="home__director"><a href="pages/anthony/index.html">Anthony Garth</a></li>
                <li class="home__director"><a href="pages/kailee/index.html">Kailee McGee</a></li>
                <li class="home__director"><a href="pages/ben/index.html">Ben Weinstein</a></li>
                <li class="home__director"><a href="pages/zeev/index.html">Ze'ev Waismann</a></li>
            </ul>
        </nav>
        <lord-icon class="scroll-down-line" src="https://cdn.lordicon.com/ksmzzfxc.json" trigger="loop" stroke="bold" state="loop-slide" colors="primary:#ff4e00,secondary:#ef9622"></lord-icon>
    `;const o=document.querySelector("main");if(!o){console.error("Main section not found.");return}e==="first"?o.prepend(t):o.appendChild(t)}function A(e,t,o){if(!e||typeof e!="string"){console.error("Invalid JSON file path.");return}fetch(e).then(r=>{if(!r.ok)throw new Error("Network error while loading projects. Status: "+r.status);return r.json()}).then(r=>{const n=r[t];if(!n){console.error("No projects found for section:",t);return}const i=document.body.getAttribute("data-type")||"home";I(n,t,i),o&&o()}).catch(r=>{console.error("Error loading project data:",r.message)})}function I(e,t,o){const r=document.querySelector("main");if(!r){console.error("Main element not found.");return}let n=document.querySelector(".home");e.forEach(i=>{const a=j(i,t,o);n?(n.insertAdjacentElement("afterend",a),n=a):r.appendChild(a)})}function j(e,t,o){const r=document.createElement("section");r.id=e.id,r.className="featured__project section container";const n=o==="home"?`<a class="featured__project__link" href="${e.details.link}">${e.details.linkText}</a>`:"",i=o==="director"?`<h5 class='featured__project__role'>Director</h5><h4 class='featured__project__director-name'>${t}</h4>`:"<h4 class='featured__project__text'>Featured Projects</h4>";return r.innerHTML=`
        <div class="featured__project__container">
            ${i}
            <div class="featured__project__wrapper">
                <div class="featured__project__video" data-playback-id="${e.video.playbackId}">
                    <img class="featured__project__thumbnail" src="${e.video.thumbnail}" alt="${e.video.alt}" loading="lazy" />
                </div>
                <div class="featured__project__details__container">
                    <img src="${e.details.icon}" alt="${e.details.iconAlt}" loading="eager" class="featured__project__svg" />
                    <div class="featured__project__details">
                        <h2 class="featured__project__name">${e.details.name}</h2>
                        <h4 class="featured__project__type">${e.details.type}</h4>
                    </div>
                    <div class="featured__project__details">
                        <h3 class="featured__project__title">${e.details.company}</h3>
                    </div>
                    ${n}
                </div>
            </div>
            <lord-icon class="scroll-down-line" src="https://cdn.lordicon.com/ksmzzfxc.json" trigger="loop" stroke="bold" state="loop-slide" colors="primary:#ff4e00,secondary:#ef9622"></lord-icon>
        </div>
    `,r}const d=e=>{try{const t=document.querySelector("main");if(!t)throw new Error("Main element not found.");const o=window.innerHeight;window.requestAnimationFrame(()=>{t.style.transform=`translateY(-${o*e}px)`})}catch(t){console.error("Error during scrollToSection: ",t)}},T=(e,t,o)=>{if(!Array.isArray(e)||typeof t!="function"){console.error("Invalid parameters passed to initTouchHandler.");return}let r=0,n=0,i=!1;const a=l=>{o||!l.touches||l.touches.length===0||(r=l.touches[0].clientY,i=!0)},s=l=>{if(!i||o||!l.touches||l.touches.length===0)return;const m=l.touches[0].clientY,y=r-m;f(y)},c=()=>{i=!1},f=l=>{Math.abs(l)>50&&(l>0&&n<e.length-1?n++:l<0&&n>0&&n--,t(n))};window.addEventListener("touchstart",a,{passive:!0}),window.addEventListener("touchmove",s,{passive:!0}),window.addEventListener("touchend",c,{passive:!0})};let p=!1;const h=(e,t)=>{p=e,console.log(`Scroll disabled: ${e} - Source: ${t}`)};function H(e,t){t&&(t.textContent=`Scrolled to ${e} section`)}function u(e,t,o,r){if(!e)return;if(e=[...e],!Array.isArray(e)){console.error("Invalid parameters passed to updateActiveIndicator.");return}e.forEach(i=>{i.classList.remove("active"),i.setAttribute("aria-current","false")});const n=e[t];if(n){n.classList.add("active"),n.setAttribute("aria-current","true");const i=n.getAttribute("data-target"),a=document.querySelector(i);if(a){const s=a.getAttribute("aria-label")||a.id;H(s,r)}}}function g(e,t,o,r){if(!e||!t||!o)return;const n=e.getAttribute("data-target"),i=document.querySelector(n);if(i){const a=Array.from(t).indexOf(i);a!==-1&&(d(a),u(o,a,t,r),e.focus())}}function q(e,t,o){!e||!t||e.forEach(r=>{r.setAttribute("role","button"),r.setAttribute("tabindex","0"),r.addEventListener("click",n=>{n.preventDefault(),g(r,t,e,o)}),r.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),g(r,t,e,o))})})}function z(e,t){let o;return function(...r){o||(e.apply(this,r),o=!0,setTimeout(()=>o=!1,t))}}function O(e,t,o){let r=0,n=!1;const i=a=>{if(n||p)return;const s=a.deltaY;n=!0,s>0&&r<e.length-1?r++:s<0&&r>0&&r--,d(r),u(t,r,e,o),window.requestAnimationFrame(()=>{setTimeout(()=>{n=!1},600)})};window.addEventListener("wheel",z(i,600))}function C(e,t,o){const r=[...e];T(r,n=>{console.log("handleTouchEvents -> callback triggered for index:",n),u(t,n,e,o)},p)}function D(e,t,o){const r=new IntersectionObserver(n=>{n.forEach(i=>{const a=i.target,s=Array.from(e).indexOf(a);i.isIntersecting&&s!==-1?(u(t,s,e,o),a.classList.add("section-visible")):a.classList.remove("section-visible")})},{threshold:.8});e.forEach(n=>r.observe(n))}function N(e,t,o){let r=0;document.addEventListener("keydown",n=>{n.key==="ArrowDown"&&r<e.length-1?(r++,d(r),u(t,r,e,o)):n.key==="ArrowUp"&&r>0&&(r--,d(r),u(t,r,e,o))})}const w=e=>{if(!e||!e.length){console.error("Invalid sections passed to initScrollHandler.");return}const t=document.querySelectorAll(".indicator"),o=document.getElementById("scrollFeedback");q(t,e,o),O(e,t,o),C(e,t,o),D(e,t,o),N(e,t,o)};function $(){const e=document.createElement("div");if(e.id="videoModal",e.className="modal",e.innerHTML=`
        <div class="modal-content"></div>
    `,document.body.appendChild(e),!document.querySelector(".container")){console.error("Main container not found.");return}let o;const r=i=>{if(h(!0,"Modal Open"),!i||!i.dataset.playbackId){console.error("Invalid container or missing playback ID.");return}o&&o.remove(),setTimeout(()=>{o=document.createElement("mux-player"),o.id="muxPlayer",o.setAttribute("stream-type","on-demand"),o.setAttribute("accent-color","#ff4e00"),o.setAttribute("disable-cookies",""),o.setAttribute("autoplay",""),o.setAttribute("controls",""),o.setAttribute("no-analytics","true");const a=i.dataset.playbackId;o.setAttribute("playback-id",a),e.querySelector(".modal-content").appendChild(o),e.style.display="flex",document.body.setAttribute("aria-hidden","true"),e.setAttribute("aria-hidden","false"),o.focus(),o.addEventListener("loadeddata",()=>{o.play().catch(s=>{console.warn("Video playback failed:",s)})})},100)},n=()=>{h(!1,"Modal Close"),e.style.display="none",document.body.removeAttribute("aria-hidden"),e.setAttribute("aria-hidden","true");const i=document.querySelector(".featured__project__video");i&&i.focus(),o&&typeof o.pause=="function"&&(o.pause(),setTimeout(()=>{o.remove(),o=null},100))};return window.onclick=i=>{i.target===e&&n()},document.addEventListener("click",i=>{const a=i.target.closest(".featured__project__video");a&&r(a)}),{openModal:r,closeModal:n}}const P=()=>{const e=document.getElementById("menu-toggle");if(!e){console.error("Menu toggle button not found.");return}const t=document.createElement("div");t.classList.add("mobile-menu"),t.style.display="none",t.innerHTML=`
        <button class="mobile-menu__close"></button>
        <ul class="mobile-menu__links">
            <li class="mobile-menu__link"><a href="#home">Directors</a></li>
            <li class="mobile-menu__link"><a href="#about">About</a></li>
            <li class="mobile-menu__link"><a href="#reps">Contact</a></li>
        </ul>
    `,document.body.appendChild(t);const o=()=>{t.classList.remove("open"),t.style.display="none",h(!1,"Mobile Menu Close")},r=s=>{s.stopPropagation();const c=t.classList.toggle("open");h(c,"Mobile Menu Toggle"),c?(t.style.display="flex",e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),t.querySelector("a").focus()):(t.style.display="none",e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),e.focus())},n=()=>{window.innerWidth<=768?e.addEventListener("click",r):(e.removeEventListener("click",r),o())};n();const i=t.querySelector(".mobile-menu__close");i?i.addEventListener("click",o):console.error("Close button not found."),t.querySelectorAll(".mobile-menu__link a").forEach(s=>{s.addEventListener("click",c=>{c.preventDefault();const f=s.getAttribute("href"),l=document.querySelector(f);if(l){const m=document.querySelectorAll("section"),y=Array.from(m).indexOf(l);d(y),o()}else console.error(`Target section ${f} not found.`)})}),window.addEventListener("resize",n)},W={"Lorenzo De Guia":"gGoBWuRAWgcPXXlYHG84J2O015fSMFQDks01GAe00j01a0100","Anthony Garth":"v8DYXI02Kn4EpzYB7h28H18bWabA702t61RVZwtNt3O5c","Kailee McGee":"RqFtPFucL94VI5T00g51r2j5z0201YbnTDWm4KWyHwnwp4","Ben Weinstein":"009NxNz3Z302hc02WE7NTi02LZAY9FjQHlxg14vpbyPnyX00","Ze'ev Waismann":"GMWX1Z3aR9J01XycOHiRN3e3hAdg8ZqSR401jQqIQ402SI"};function F(e){try{const t=document.createElement("mux-player");return t.setAttribute("stream-type","on-demand"),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("loop","true"),t.setAttribute("disable-cookies","true"),t.setAttribute("playsinline","true"),t.setAttribute("playback-id",e),t.setAttribute("no-analytics","true"),Object.assign(t.style,{width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:"0",left:"0",opacity:"0",zIndex:"-1",display:"none"}),t}catch(t){console.error("Error creating Mux player: ",t)}}function R(e){try{const t=document.querySelector(".director-video-overlay"),o={};return Object.entries(e).forEach(([r,n])=>{const i=F(n);t.appendChild(i),o[r]=i}),o}catch(t){console.error("Error during Mux player preloading: ",t)}}function B(e){const t=document.querySelectorAll(".home__director a"),o=document.querySelector(".director-video-overlay");if(!t||!o){console.error("Director links or video overlay not found.");return}t.forEach(r=>{const n=r.textContent.trim(),i=e[n];if(!i)return;const a=()=>{i.style.display="block",o.style.opacity="1",o.style.zIndex="1",i.style.opacity="1",i.style.zIndex="1"},s=()=>{i.style.opacity="0",i.style.zIndex="-1",o.style.opacity="0",o.style.zIndex="-1"};r.addEventListener("mouseenter",a),r.addEventListener("mouseleave",s)})}function G(){try{const e=R(W);B(e)}catch(e){console.error("Error initializing hover effects: ",e)}}const Y=()=>document.body.getAttribute("data-type"),V=()=>{S("first"),A("data/featuredProjects.json","home",()=>{const e=document.querySelectorAll("section");K(e),_("home",()=>{w(e),v()})}),G()},Z=()=>{const e=document.body.getAttribute("data-director");if(!e){console.error("Director name not specified for director page");return}fetch("/electra-website-v5/data/directorProjects.json").then(t=>t.json()).then(t=>{const o=t[e];if(!o||!o.length){console.error("No projects found for this director");return}A("/electra-website-v5/data/directorProjects.json",e,()=>{x(e,()=>{S("last");const r=document.querySelectorAll("section");_("director",()=>{w(r),v()})})})}).catch(t=>console.error("Error loading director projects:",t))},K=e=>{const t=window.location.hash;let o=null;if(t){const r=document.querySelector(t);r&&(o=Array.from(e).indexOf(r))}o!==null&&d(o)},X=()=>{L();const e=Y();e==="home"?V():e==="director"&&Z(),$(),P()};E(()=>{document.body.style.visibility="visible",X()});
